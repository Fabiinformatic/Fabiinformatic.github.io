<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LIXBY ‚Äî Detalle de producto</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Header: igual que en index ‚Äî 3 columnas (logo | nav | controles) */
    .nav {
      top: 0;
      left: 0;
      right: 0;
      position: fixed;
      padding: 10px 18px;
      z-index: 120;
      background: transparent;
    }
    .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      gap: 12px;
    }
    .nav-left { justify-self: start; display:flex; align-items:center; gap:8px; }
    #navLinks { justify-self:center; display:flex; gap:18px; align-items:center; }
    .nav-right { justify-self:end; display:flex; flex-direction:column; align-items:flex-end; gap:8px; }

    @media (max-width:900px) {
      #navLinks { gap:10px; font-size:0.95rem; }
      .nav-right { flex-direction:row; align-items:center; }
    }

    /* ficha */
    .product-detail {
      display:flex;
      gap:36px;
      align-items:flex-start;
      max-width:1100px;
      margin:120px auto 80px;
      padding:28px;
      border-radius:14px;
      box-sizing:border-box;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border:1px solid rgba(255,255,255,0.03);
    }
    .image-wrap {
      width:420px;
      height:420px;
      border-radius:12px;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      flex:0 0 420px;
      box-sizing:border-box;
    }
    .product-image { max-width:100%; max-height:100%; object-fit:contain; display:block; }
    .product-info { flex:1; display:flex; flex-direction:column; gap:14px; }
    .product-info h1 { font-size:1.6rem; margin:0; }
    .product-info p { color:var(--muted); margin:0; }
    .mini-note { color:var(--muted); font-size:0.95rem; margin-top:6px; }
    .product-info .price { font-size:1.4rem; color:var(--accent); font-weight:700; margin-top:8px; }
    .btn-add { margin-top:12px; padding:12px 18px; border-radius:10px; background: linear-gradient(180deg,var(--accent), color-mix(in oklab, var(--accent) 60%, #fff 40%)); border:none; color:#00121a; font-weight:700; cursor:pointer; max-width:320px; text-align:center; }

    .detail-block { margin-top:18px; padding-top:12px; border-top:1px solid rgba(255,255,255,0.03); }
    .detail-block h3 { margin:12px 0 6px; font-size:1.05rem; }
    .detail-block p { margin:0 0 8px; color:var(--muted); }

    /* BOM: ahora renderizaremos solo la lista de componentes (sin precios) */
    .bom { margin-top:18px; border-collapse:collapse; width:100%; max-width:760px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); border-radius:10px; overflow:hidden; border:1px solid rgba(255,255,255,0.05); }
    .bom thead { background: rgba(255,255,255,0.02); }
    .bom th, .bom td { padding:12px 14px; text-align:left; font-size:0.95rem; border-bottom: 1px solid rgba(255,255,255,0.03); color: var(--text); }
    .bom th { font-weight:700; color:var(--muted); }

    /* peque√±o fallback para main debajo del header si JS no corre */
    main { padding-top: 84px; }

    /* responsive tweaks */
    @media(max-width:900px){
      .product-detail{ flex-direction:column; margin:90px 16px; }
      .image-wrap{ width:100%; height:auto; aspect-ratio:1/1; padding:18px; }
      .product-image{ max-width:80%; max-height:80%; }
      .mini-cart, .lang-menu { right:8px; top:48px; }
    }
  </style>
</head>
<body>
  <header class="nav glass" role="banner">
    <div class="nav-inner">
      <div class="nav-left">
        <div class="brand" role="button" onclick="window.location.href='index.html'">LIXBY</div>
      </div>

      <nav id="navLinks" role="navigation" aria-label="Principal">
        <a href="index.html#inicio" data-i18n="nav.inicio">Inicio</a>
        <a href="index.html#productos" data-i18n="nav.productos">Productos</a>
        <a href="index.html#contacto" data-i18n="nav.contacto">Cont√°ctanos</a>
        <a href="index.html#conocenos" data-i18n="nav.conocenos">Con√≥cenos</a>
      </nav>

      <div class="nav-right">
        <!-- mini-cart -->
        <div class="cart-wrapper" style="position:relative;">
          <button id="cartBtn" class="icon-btn" aria-label="Ver carrito">üõí <span id="cartCount" class="badge">0</span></button>
          <div id="miniCart" class="mini-cart glass" aria-hidden="true" style="flex-direction:column;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
              <strong data-i18n="cart.title">Carrito</strong>
              <button id="clearCart" class="text-btn" data-i18n="cart.clear">Vaciar</button>
            </div>
            <div id="miniCartItems" style="max-height:200px;overflow:auto;"></div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px;">
              <div><strong data-i18n="cart.total">Total:</strong> <span id="miniCartTotal">0‚Ç¨</span></div>
              <div><button id="checkoutBtn" class="btn primary" data-i18n="cart.checkout">Pagar</button></div>
            </div>
          </div>
        </div>

        <!-- idioma -->
        <div class="lang-wrapper" style="position:relative;">
          <button id="langBtn" class="icon-btn" aria-haspopup="true" aria-expanded="false">üá™üá∏ <span id="langLabel">Espa√±ol</span> ‚ñæ</button>
          <div id="langMenu" class="lang-menu glass" aria-hidden="true" style="flex-direction:column;gap:6px;padding:8px;width:160px;">
            <button class="lang-item" data-lang="es">üá™üá∏ Espa√±ol</button>
            <button class="lang-item" data-lang="en">üá¨üáß English</button>
            <button class="lang-item" data-lang="fr">üá´üá∑ Fran√ßais</button>
          </div>
        </div>

        <!-- tema -->
        <button id="themeToggle" class="btn ghost" aria-label="Cambiar tema">‚óê</button>
      </div>
    </div>
  </header>

  <main>
    <div id="productDetail" class="product-detail glass" aria-live="polite">
      <div style="flex:1;padding:24px;">Cargando producto‚Ä¶</div>
    </div>

    <div class="product-list" id="quickLinks" style="display:none;margin-top:22px;">
      <a href="producto.html?id=lixby-one">Ver Lixby One</a>
      <a href="producto.html?id=lixby-one-plus">Ver Lixby One Plus</a>
      <a href="producto.html?id=lixby-one-pro">Ver Lixby One Pro</a>
    </div>
  </main>

  <div id="debug" class="debug" role="status" aria-live="polite"></div>

  <footer class="footer glass" style="text-align:center;padding:24px;margin-top:40px;">
    <p>¬© <span id="year"></span> LIXBY ‚Äî Todos los derechos reservados</p>
  </footer>

  <script>
  (function(){
    // -------------------------
    // Helpers y estado
    // -------------------------
    const CART_KEY = 'lixby_cart_v1';
    function showDebug(msg){
      const el = document.getElementById('debug');
      if (!el) return;
      el.style.display = 'block';
      el.textContent += msg + "\n";
      console.log("DEBUG:", msg);
    }
    function loadCart(){ try { return JSON.parse(localStorage.getItem(CART_KEY))||[]; } catch(e){ return []; } }
    function saveCart(c){ try { localStorage.setItem(CART_KEY, JSON.stringify(c)); } catch(e){} }
    function parsePriceToNumber(priceStr){ if(!priceStr) return 0; const num=String(priceStr).replace(/[^\d.,]/g,'').replace(',','.'); return parseFloat(num)||0; }
    function formatPriceNum(num){ return (Math.round(num*100)/100) + '‚Ç¨'; }

    // set year
    const yearEl = document.getElementById('year'); if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Datos de productos (a√±ad√≠ id en cada objeto y nuevos precios/imagenes)
    const products = {
      "lixby-one-air": {
        id: 'lixby-one-air',
        name: "Lixby One Air",
        description: "Versi√≥n ligera y asequible, ideal para un uso diario eficiente.",
        mini: "Pantalla OLED 6.1\" ‚Ä¢ Rendimiento equilibrado ‚Ä¢ Compacto y ligero",
        price: "249‚Ç¨",
        image: "https://m.media-amazon.com/images/I/61j5RD1d9KL._UF1000,1000_QL80_.jpg"
      },
      "lixby-one": {
        id: 'lixby-one',
        name: "Lixby One",
        description: "Ultraligero, potente y dise√±ado para la vida moderna. Perfecto para productividad y movilidad.",
        mini: "Pantalla OLED 6.7\", 120 Hz ‚Ä¢ SoC 5G ‚Ä¢ C√°mara dual 50 MP + 8 MP ‚Ä¢ Bater√≠a 5.000 mAh",
        price: "349‚Ç¨",
        image: "https://m.media-amazon.com/images/I/712Pyq1hPfL._UF1000,1000_QL80_.jpg",
        bom: [
          ["SoC 5G (Snapdragon 7s Gen 2 / Dimensity 8300) + PMIC", ""],
          ["RAM 8 GB LPDDR5X", ""],
          ["Almacenamiento UFS 3.1 256 GB", ""],
          ["Pantalla OLED 6.7\" 120 Hz + t√°ctil + vidrio", ""],
          ["C√°maras (50 MP OIS + 8 MP UGA + 16 MP frontal)", ""],
          ["Bater√≠a 5,000 mAh + BMS", ""],
          ["Antenas + RF front-end (PA, filtros, switches)", ""],
          ["Sensores (IMU, proximidad, luz, NFC)", ""],
          ["Audio (altavoces, micros, motor h√°ptico)", ""],
          ["Chasis (aluminio) + trasera (policarbonato o vidrio)", ""],
          ["PCB, pasivos y conectores", ""],
          ["Ensamblaje y pruebas (EMS)", ""],
          ["Embalaje + cargador/cable", ""]
        ]
      },
      "lixby-one-plus": {
        id: 'lixby-one-plus',
        name: "Lixby One Plus",
        description: "Tel√©fono de √∫ltima generaci√≥n con c√°mara de alta resoluci√≥n y bater√≠a de larga duraci√≥n.",
        mini: "C√°mara profesional ‚Ä¢ Rendimiento equilibrado ‚Ä¢ Bater√≠a duradera",
        price: "659‚Ç¨",
        image: "https://media.ldlc.com/r1600/ld/products/00/06/16/66/LD0006166643_0006166668_0006166693.jpg"
      },
      "lixby-one-pro": {
        id: 'lixby-one-pro',
        name: "Lixby One Pro",
        description: "Rendimiento y audio de alta fidelidad para creadores y audi√≥filos.",
        mini: "Audio premium ‚Ä¢ CPU/GPU potentes ‚Ä¢ Dise√±o robusto",
        price: "899‚Ç¨",
        image: "https://m.media-amazon.com/images/I/61rriyfRKwL.jpg"
      }
    };

    // -------------------------
    // Mini-cart UI (igual que en index)
    // -------------------------
    let cart = loadCart();
    const cartBtn = document.getElementById('cartBtn');
    const miniCart = document.getElementById('miniCart');
    const miniCartItems = document.getElementById('miniCartItems');
    const miniCartTotal = document.getElementById('miniCartTotal');
    const cartCount = document.getElementById('cartCount');
    const clearCartBtn = document.getElementById('clearCart');
    const checkoutBtn = document.getElementById('checkoutBtn');

    function updateMiniCartUI(){
      const totalQty = cart.reduce((s,i)=>s+(i.qty||0),0);
      if (cartCount) cartCount.textContent = totalQty;
      if (!miniCartItems) return;
      miniCartItems.innerHTML = '';
      if (cart.length === 0) {
        miniCartItems.innerHTML = '<div style="padding:8px;color:var(--muted)">Tu carrito est√° vac√≠o.</div>';
        if (miniCartTotal) miniCartTotal.textContent = '0‚Ç¨';
        return;
      }
      let total = 0;
      cart.forEach((it, idx) => {
        const item = document.createElement('div');
        item.className = 'mini-cart-item';
        item.style.display = 'flex'; item.style.gap='10px'; item.style.alignItems='center'; item.style.padding='8px'; item.style.borderRadius='8px';
        const img = document.createElement('img'); img.src = it.image || 'https://via.placeholder.com/80x80?text=Img'; img.alt = it.name; img.style.width='44px'; img.style.height='44px'; img.style.objectFit='cover'; img.style.borderRadius='6px';
        const meta = document.createElement('div'); meta.className='meta'; meta.innerHTML = `<div style="font-weight:700">${it.name}</div><div style="color:var(--muted)">${it.price} x${it.qty||1}</div>`;
        const remove = document.createElement('button'); remove.className='remove'; remove.textContent='‚úï'; remove.style.background='transparent'; remove.style.border='none'; remove.style.cursor='pointer'; remove.addEventListener('click', ()=>{ cart.splice(idx,1); saveCart(cart); updateMiniCartUI(); });
        item.appendChild(img); item.appendChild(meta); item.appendChild(remove);
        miniCartItems.appendChild(item);
        total += (it.priceNum || parsePriceToNumber(it.price)) * (it.qty||1);
      });
      if (miniCartTotal) miniCartTotal.textContent = formatPriceNum(total);
    }

    if (cartBtn && miniCart) {
      cartBtn.addEventListener('click', (e) => {
        const shown = miniCart.getAttribute('aria-hidden') === 'false';
        miniCart.setAttribute('aria-hidden', String(!shown));
      });
      document.addEventListener('click', (e) => {
        if (!cartBtn.contains(e.target) && !miniCart.contains(e.target)) miniCart.setAttribute('aria-hidden','true');
      });
    }
    if (clearCartBtn) clearCartBtn.addEventListener('click', () => { cart=[]; saveCart(cart); updateMiniCartUI(); });
    if (checkoutBtn) checkoutBtn.addEventListener('click', () => { if (cart.length===0) return alert('El carrito est√° vac√≠o'); alert('Simulaci√≥n de checkout: ' + cart.reduce((s,i)=>s+(i.qty||0),0) + ' items'); });

    window.addToCart = function(product){
      const existing = cart.find(p => p.id === product.id);
      if (existing) existing.qty = (existing.qty||1) + 1;
      else cart.push({ id: product.id, name: product.name, price: product.price, priceNum: parsePriceToNumber(product.price) || product.priceNum || 0, qty:1, image: product.image });
      saveCart(cart);
      updateMiniCartUI();
      if (miniCart) { miniCart.setAttribute('aria-hidden','false'); setTimeout(()=>miniCart.setAttribute('aria-hidden','true'), 2200); }
    };

    updateMiniCartUI();

    // -------------------------
    // Language selector & translations
    // -------------------------
    const langBtn = document.getElementById('langBtn'), langMenu = document.getElementById('langMenu'), langLabel = document.getElementById('langLabel');
    const translations = {
      es: {
        "nav.inicio":"Inicio","nav.productos":"Productos","nav.contacto":"Cont√°ctanos","nav.conocenos":"Con√≥cenos",
        "cart.title":"Carrito","cart.clear":"Vaciar","cart.total":"Total:","cart.checkout":"Pagar",
        "btn.add":"A√±adir al carrito","btn.added":"A√±adido","btn.explorar":"Explorar",
        "btn.enviar":"Enviar","theme.toggle":"Cambiar tema","cart.empty":"Tu carrito est√° vac√≠o."
      },
      en: {
        "nav.inicio":"Home","nav.productos":"Products","nav.contacto":"Contact","nav.conocenos":"About",
        "cart.title":"Cart","cart.clear":"Clear","cart.total":"Total:","cart.checkout":"Checkout",
        "btn.add":"Add to cart","btn.added":"Added","btn.explorar":"Explore",
        "btn.enviar":"Send","theme.toggle":"Toggle theme","cart.empty":"Your cart is empty."
      },
      fr: {
        "nav.inicio":"Accueil","nav.productos":"Produits","nav.contacto":"Contact","nav.conocenos":"√Ä propos",
        "cart.title":"Panier","cart.clear":"Vider","cart.total":"Total:","cart.checkout":"Payer",
        "btn.add":"Ajouter au panier","btn.added":"Ajout√©","btn.explorar":"Explorer",
        "btn.enviar":"Envoyer","theme.toggle":"Changer le th√®me","cart.empty":"Votre panier est vide."
      }
    };
    let currentLang = localStorage.getItem('lixby_lang') || 'es';
    function applyTranslations(lang){
      const map = translations[lang] || translations['es'];
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (key && map[key]) el.textContent = map[key];
      });
      document.querySelectorAll('.btn-add').forEach(btn => btn.textContent = map['btn.add'] || btn.textContent);
      const label = document.getElementById('langLabel');
      const names = { es:'Espa√±ol', en:'English', fr:'Fran√ßais' };
      if (label) label.textContent = names[lang] || names['es'];
    }
    function setLang(l){
      if (!translations[l]) l = 'es';
      currentLang = l;
      try { localStorage.setItem('lixby_lang', l); } catch(e){}
      applyTranslations(l);
    }
    setLang(localStorage.getItem('lixby_lang') || currentLang);

    if (langBtn && langMenu){
      langBtn.addEventListener('click', ()=> {
        const isOpen = langMenu.getAttribute('aria-hidden') === 'false';
        langMenu.setAttribute('aria-hidden', String(!isOpen));
        langBtn.setAttribute('aria-expanded', String(!isOpen));
      });
      langMenu.querySelectorAll('.lang-item').forEach(btn => btn.addEventListener('click', ()=>{ const lang = btn.getAttribute('data-lang'); setLang(lang); langMenu.setAttribute('aria-hidden','true'); langBtn.setAttribute('aria-expanded','false'); }));
      document.addEventListener('click', (e)=> { if (!langBtn.contains(e.target) && !langMenu.contains(e.target)) { langMenu.setAttribute('aria-hidden','true'); langBtn.setAttribute('aria-expanded','false'); }});
    }

    // -------------------------
    // Theme toggle (persistente)
    // -------------------------
    const themeToggle = document.getElementById('themeToggle');
    const THEME_KEY = 'lixby_theme';
    if (localStorage.getItem(THEME_KEY) === 'light') document.documentElement.classList.add('light');
    if (themeToggle) themeToggle.addEventListener('click', ()=>{ const isLight = document.documentElement.classList.toggle('light'); try{ localStorage.setItem(THEME_KEY, isLight ? 'light' : 'dark'); }catch(e){} });

    // -------------------------
    // Render product on this page (logic to render selected id)
    // -------------------------
    try {
      function proxiedUrl(originalUrl){ const stripped = originalUrl.replace(/^https?:\/\//,''); return `https://images.weserv.nl/?url=${encodeURIComponent(stripped)}&w=1200`; }

      const params = new URLSearchParams(window.location.search);
      const raw = params.get('id');
      const id = raw ? decodeURIComponent(raw) : null;
      const container = document.getElementById('productDetail');
      const quickLinks = document.getElementById('quickLinks');

      if (!id) {
        container.innerHTML = '<div style="padding:20px;">No se recibi√≥ ID. Usa uno de estos enlaces:</div>';
        if (quickLinks) quickLinks.style.display = 'flex';
        showDebug('No id en URL ‚Äî mostrando enlaces de prueba.');
        return;
      }
      if (!products[id]) {
        container.innerHTML = '<div style="padding:20px;"><h2>Producto no encontrado</h2><p>Vuelve a la <a href="index.html">tienda</a>.</p></div>';
        showDebug('ID no coincide con productos: ' + id);
        return;
      }

      const p = products[id];

      // imagen (proxied -> original -> placeholder)
      const wrap = document.createElement('div'); wrap.className = 'image-wrap';
      const img = document.createElement('img'); img.className = 'product-image'; img.alt = p.name;
      img.src = proxiedUrl(p.image);
      let triedOriginal = false, triedPlaceholder = false;
      img.onerror = function(){
        if (!triedOriginal) { triedOriginal = true; showDebug('proxied failed, trying original for ' + id); img.src = p.image; }
        else if (!triedPlaceholder) { triedPlaceholder = true; showDebug('original failed, using placeholder for ' + id); img.onerror=null; img.src='https://via.placeholder.com/600x600?text=Sin+imagen'; }
      };
      wrap.appendChild(img);

      // info
      const info = document.createElement('div'); info.className = 'product-info';
      const title = document.createElement('h1'); title.textContent = p.name;
      const desc = document.createElement('p'); desc.textContent = p.description || '';
      const mini = document.createElement('div'); mini.className = 'mini-note'; mini.textContent = p.mini || '';
      const price = document.createElement('div'); price.className = 'price'; price.textContent = p.price;

      // a√±adir bot√≥n (usa window.addToCart)
      const addBtn = document.createElement('button');
      addBtn.className = 'btn-add';
      addBtn.textContent = (translations[currentLang] && translations[currentLang]['btn.add']) || 'A√±adir al carrito';
      addBtn.addEventListener('click', () => {
        const productData = { id: p.id||id, name: p.name, price: p.price, image: p.image, priceNum: parsePriceToNumber(p.price) };
        if (typeof window.addToCart === 'function') {
          window.addToCart(productData);
        } else {
          const existing = cart.find(x => x.id === productData.id);
          if (existing) existing.qty = (existing.qty||1)+1; else cart.push({ id: productData.id, name: productData.name, price: productData.price, priceNum: parsePriceToNumber(productData.price), qty:1, image: productData.image });
          saveCart(cart); updateMiniCartUI();
        }
        addBtn.textContent = (translations[currentLang] && translations[currentLang]['btn.added']) || 'A√±adido';
        setTimeout(()=> addBtn.textContent = (translations[currentLang] && translations[currentLang]['btn.add']) || 'A√±adir al carrito', 1000);
      });

      info.appendChild(title);
      if (desc.textContent) info.appendChild(desc);
      if (mini.textContent) info.appendChild(mini);
      info.appendChild(price);
      info.appendChild(addBtn);

      container.innerHTML = '';
      container.appendChild(wrap);
      container.appendChild(info);

      // BOM (si aplica) ‚Äî ahora mostramos solo la lista de componentes (sin precios)
      if (id === 'lixby-one' && Array.isArray(p.bom)) {
        const tableWrap = document.createElement('div'); tableWrap.style.marginTop='18px';
        const note = document.createElement('div'); note.textContent = 'Lista de componentes (BOM)'; note.style.fontWeight='700'; note.style.marginBottom='8px'; note.style.color='var(--muted)';
        tableWrap.appendChild(note);

        // Usamos una tabla con una sola columna (solo componente)
        const table = document.createElement('table'); table.className='bom';
        const thead = document.createElement('thead'); thead.innerHTML = '<tr><th>Componente / Parte</th></tr>'; table.appendChild(thead);
        const tbody = document.createElement('tbody');
        p.bom.forEach(row => {
          const tr = document.createElement('tr');
          const td1 = document.createElement('td');
          td1.textContent = row[0]; // solo el nombre del componente
          tr.appendChild(td1);
          tbody.appendChild(tr);
        });
        table.appendChild(tbody);
        tableWrap.appendChild(table);
        info.appendChild(tableWrap);
      }

      // descripci√≥n ampliada (solo Lixby One)
      if (id === 'lixby-one') {
        const detail = document.createElement('div'); detail.className='detail-block';
        detail.innerHTML = `
          <h3>Descripci√≥n</h3>
          <p>El Lixby One es la combinaci√≥n perfecta entre dise√±o y funcionalidad. Pensado para quienes buscan rendimiento, autonom√≠a y una experiencia fotogr√°fica vers√°til en un formato ligero.</p>
          <h3>Pantalla Incre√≠ble</h3>
          <p>Su pantalla OLED de 6.7" con tasa de refresco de 120 Hz ofrece colores vivos, negros profundos y una respuesta t√°ctil ultrarr√°pida.</p>
          <h3>Rendimiento Potente</h3>
          <p>Equipado con un SoC de nueva generaci√≥n (Snapdragon Gen 7), el Lixby One maneja multitarea exigente y juegos sin calentarse en exceso.</p>
          <h3>Sistema de C√°mara Avanzado</h3>
          <p>Cuenta con una c√°mara principal de 50 MP con OIS y una secundaria ultra gran angular de 8 MP. Ideal para paisajes y retratos con buen detalle y rango din√°mico.</p>
          <h3>Conectividad Ultra R√°pida</h3>
          <p>5G, Wi-Fi 6 y Bluetooth de baja latencia para descargas r√°pidas y streaming sin cortes.</p>
          <h3>Dise√±o Elegante y Duradero</h3>
          <p>Chasis de aluminio, acabados mate y trasera opcional en vidrio, dise√±ado para un agarre c√≥modo y aspecto premium.</p>
          <h3>Bater√≠a de Larga Duraci√≥n</h3>
          <p>Bater√≠a de 5000 mAh con gesti√≥n de energ√≠a que permite jornada completa incluso con uso intensivo.</p>
          <h3>Seguridad de Primera Clase</h3>
          <p>Lector de huellas integrado y cifrado a nivel hardware para proteger tus datos.</p>
          <h3>Innovaci√≥n al Alcance de tu Mano</h3>
          <p>Funciones inteligentes y optimizaciones que mejoran la experiencia diaria sin complicaciones.</p>
          <h3>Caracter√≠sticas t√©cnicas</h3>
          <ul>
            <li>SoC: Snapdragon / MediaTek (seg√∫n versi√≥n)</li>
            <li>RAM: 8 GB LPDDR5X</li>
            <li>Almacenamiento: 256 GB UFS 3.1</li>
            <li>Pantalla: OLED 6.7" 120 Hz</li>
            <li>C√°maras: 50 MP (principal) + 8 MP (ultra gran angular) + 16 MP (frontal)</li>
            <li>Bater√≠a: 5.000 mAh</li>
            <li>Conectividad: 5G, Wi-Fi 6, Bluetooth</li>
          </ul>
          <h3>Seguridad general del producto</h3>
          <p>Certificaciones de seguridad y pruebas de calidad en producci√≥n.</p>
          <h3>Valoraciones del producto</h3>
          <div class="ratings"><div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4.2 / 5)</div><div class="review">"Gran pantalla y bater√≠a que dura todo el d√≠a." ‚Äî Marta R.</div></div>
        `;
        info.appendChild(detail);
      }

      showDebug('Producto renderizado: ' + id);
    } catch(err) {
      showDebug('Error en script: ' + (err && err.message ? err.message : String(err)));
      const pd = document.getElementById('productDetail');
      if (pd) pd.innerHTML = '<div style="padding:20px;"><h2>Error cargando la ficha</h2><p>Mira la consola para m√°s detalles.</p></div>';
    }

    // Ajuste din√°mico: aseguramos padding-top suficiente seg√∫n header
    try {
      const header = document.querySelector('.nav');
      if (header) {
        const pad = Math.round(header.getBoundingClientRect().height + 12);
        document.body.style.paddingTop = pad + 'px';
        window.addEventListener('resize', ()=> {
          const p2 = Math.round(header.getBoundingClientRect().height + 12);
          document.body.style.paddingTop = p2 + 'px';
        });
      }
    } catch(e){}
  })();
  </script>
</body>
</html>
