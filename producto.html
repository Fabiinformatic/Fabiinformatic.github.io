<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle del Producto - LIXBY</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* estilos locales mínimos para la ficha (puedes mantenerlos) */
    .product-detail { max-width: 1000px; margin: 100px auto 50px; padding: 20px; display:flex; flex-wrap:wrap; gap:30px; align-items:flex-start; }
    .product-image { max-width: 400px; border-radius:12px; flex:1 1 400px; object-fit:cover; }
    .product-info { flex:1 1 300px; display:flex; flex-direction:column; gap:15px; }
    .product-info h1 { margin:0; }
    .product-info .price { font-size:1.5rem; font-weight:700; color:var(--accent); }
    .btn-buy { padding:12px 20px; background:var(--accent); border:none; border-radius:8px; font-weight:700; cursor:pointer; color:#000; }
    @media(max-width:700px){ .product-detail{ margin:80px 16px; flex-direction:column; } .product-image{ max-width:100%; } }
  </style>
</head>
<body>
  <header class="nav glass">
    <div class="brand" onclick="window.location.href='index.html'">LIXBY</div>
    <nav id="navLinks">
      <a href="index.html#inicio">Inicio</a>
      <a href="index.html#productos">Productos</a>
      <a href="index.html#contacto">Contáctanos</a>
      <a href="index.html#conocenos">Conócenos</a>
    </nav>
    <button id="themeToggle" class="btn ghost">◐</button>
  </header>

  <main class="section">
    <div id="productDetail" class="product-detail glass" aria-live="polite">
      <!-- Se rellenará por JS -->
    </div>
  </main>

  <footer class="footer glass">
    <p>© <span id="year"></span> LIXBY — Todos los derechos reservados</p>
  </footer>

  <script>
    // Año automático
    const yearEl = document.getElementById("year");
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Datos de productos (mantén/edita según necesites)
    const products = {
      "lixby-one": {
        name: "Lixby One",
        description: "Ultraligero, potente y diseñado para la vida moderna.",
        price: "349€",
        image: "img/lixby-one.jpg"
      },
      "lixby-one-plus": {
        name: "Lixby One Plus",
        description: "Teléfono de última generación con cámara profesional.",
        price: "659€",
        image: "img/lixby-one-plus.jpg"
      },
      "lixby-one-pro": {
        name: "Lixby One Pro",
        description: "Audio de alta fidelidad y rendimiento incomparable.",
        price: "1099€",
        image: "img/lixby-one-pro.jpg"
      }
    };

    // Obtener ID desde la URL (robusto)
    const params = new URLSearchParams(window.location.search);
    const rawId = params.get("id");
    const productId = rawId ? decodeURIComponent(rawId) : null;
    const container = document.getElementById("productDetail");

    if (productId && products[productId]) {
      const p = products[productId];
      const imageSrc = p.image || `https://via.placeholder.com/400x400?text=${encodeURIComponent(p.name)}`;
      container.innerHTML = `
        <img src="${imageSrc}" alt="${p.name}" class="product-image" onerror="this.onerror=null;this.src='https://via.placeholder.com/400x400?text=Sin+imagen'">
        <div class="product-info">
          <h1>${p.name}</h1>
          <p>${p.description}</p>
          <div class="price">${p.price}</div>
          <button class="btn-buy" onclick="alert('Añadido al carrito: ${p.name}')">Comprar ahora</button>
        </div>
      `;
    } else {
      container.innerHTML = `<div style="padding:24px;"><h2>Producto no encontrado</h2><p>Vuelve a la <a href="index.html">tienda</a> para ver todos los productos.</p></div>`;
    }
  </script>
</body>
</html>
